<!DOCTYPE html>
<html>
        <head>
            <title> WDD 330 Portfolio</title>
            <link rel="stylesheet" href="style.css">
            <script src="index.js"></script>
        </head>


    <body onload="onload()">
        
        <h1>Weather App</h1>
        
        <div id="container">
            <div class="block">
            <div id="location"></div>
            <div id="date"></div>
            <div id="hour"></div>
            <div id="description"></div>
                
            </div>
            <div class="block">
                <div class="infoContainer">
                    Preassure: 
                    <div class="info" id="pressure"></div>
                </div>
                <div class="infoContainer">
                    Temperature:
                    <div class="info" id="temperature"></div>
                </div>
                <div   class="infoContainer">
                    Humidity:
                    <div  class="info" id="humidity"></div> 
                </div>  
            </div>    
        </div>
        
        <div id="loader" class="lds-ripple"><div></div><div></div></div>

        <div id="show"> 
            <div class="infoContainer">
                Location: 
                <div class="info" id="locationPrev"></div>
            </div>
            <div class="infoContainer">
                Date:
                <div class="info" id="datePrev"></div>
            </div>
            <div class="infoContainer">
                Hour:
                <div id="hourPrev"></div>
            </div>
            <div  class="infoContainer">
                Description:
                <div  class="info" id="descriptionPrev"></div> 
            </div>
            <div class="infoContainer">
                Preassure: 
                <div class="info" id="pressurePrev"></div>
            </div>
            <div class="infoContainer">
                Temperature:
                <div class="info" id="temperaturePrev"></div>
            </div>
            <div   class="infoContainer">
                Humidity:
                <div  class="info" id="humidityPrev"></div> 
            </div>
        </div>

        <button id="reload" onclick="refreshPage()" type="button">Reload</button>
        <button id="prev" onclick="showData()" type="button">Previous weather</button> 

        <script>

            /*Function Load and Show stored data*/
            function showData(){  
                
                let prevClima = document.getElementById('show');
                prevClima.style.display = 'block';

                let prevButton = document.getElementById('prev');
                prevButton.style.display = 'none';

                let reload = document.getElementById('reload');
                reload.style.display = 'block';

                let loader = document.getElementById('loader');
                loader.style.display = 'none';
            
                /*Get stored data*/
                var loc = localStorage.getItem('location');
                var date = localStorage.getItem('date');
                var hour = localStorage.getItem('hour')
                var desc = localStorage.getItem('description');
                var pres= localStorage.getItem('pressure');
                var temp = localStorage.getItem('temperature');
                var hum = localStorage.getItem('humidity');

                /*show stored data*/      
                document.getElementById('locationPrev').innerHTML =  loc;
                document.getElementById('datePrev').innerHTML = date; 
                document.getElementById('hourPrev').innerHTML = hour;
                document.getElementById('descriptionPrev').innerHTML = desc;
                document.getElementById('pressurePrev').innerHTML = pres; 
                document.getElementById('temperaturePrev').innerHTML = temp;
                document.getElementById('humidityPrev').innerHTML = hum; 
            }
        </script>

    </body>
</html>